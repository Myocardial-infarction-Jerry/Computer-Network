#### 第三次作业

> 专业：计算机科学与技术
>
> 姓名：黄梓宏
>
> 学号：21307355



1. 

   ==答：==

   **TTL**（Time To Live）字段用于确保一个数据报不会永远地停留在网络层中。数据报每经过一跳，则TTL的值减一，当字段的值归零时，就会舍弃该数据报。

   

2. 

   ==答：==

   - 对于**内存式交换结构**，每次只能够进行一个分组的转发，因此一个分组的最大时延为$(n-1)D$
   - 对于**总线式交换结构**，所有分组的转发共享一条总线，因此同样的，一次只能够转发一个分组，所以最大时延为$(n-1)D$
   - 对于**纵横式交换结构**，只要转发到的输出端口不同，就不会产生交换的冲突。由题目中的意思，n个分组分别转发到n个不同的输出端口中，因此这n个转发可以同时进行，分组的最大时延为$0$

     

3. 

   ==答：==

   - 对于**接口0**：共$2^7=128$个地址，范围1<u>0000000</u>~1<u>1111111</u>;
   - 对于**接口1**：共$2^6=64$个地址，范围10<u>000000</u>~10<u>111111</u>;
   - 对于**接口2**：共$2^5=32$个地址，范围111<u>00000</u>~111<u>11111</u>;
   - 对于**接口3**：因为接口1和接口2对应的地址范围是接口1对应的地址范围的子集，所以和接口3对应的共有$2^8-128=128$个地址，范围0<u>0000000</u>~0<u>1111111</u>。

     

4. 

   ==答：==

   题目给出的一个子网为：<u>10000000.01110111.00101000.10</u>000000，即网络部分共26位，主机部分地址共6位。因此，能被分配给该网络的一个IP地址，可以举例为：<u>10000000.01110111.00101000.10</u>00000==1==，即**128.119.40.129**。

   ISP具有一个地址空间：<u>10000000.01110111.00101000.01</u>000000。如果用其生成具有4个相同数量IP地址的子网，则可以分为：

   - <u>10000000.01110111.00101000.01</u>==00==0000，即128.119.40.64/26；

   - <u>10000000.01110111.00101000.01</u>==01==0000，即128.119.40.80/26；

   - <u>10000000.01110111.00101000.01</u>==10==0000，即128.119.40.96/26；

   - <u>10000000.01110111.00101000.01</u>==11==0000，即128.119.40.112/26。

     

5. 

   ==答：==

   a.分配家庭网络中的接口地址如下：

   |  接口  |   IP地址    |
   | :----: | :---------: |
   | 主机1  | 192.168.1.1 |
   | 主机2  | 192.168.1.2 |
   | 主机3  | 192.168.1.3 |
   | 路由器 | 192.168.1.4 |

   b.建立NAT转换表如下：

   |        WAN端        |       LAN端       |
   | :-----------------: | :---------------: |
   | 24.34.112.235，5001 | 192.168.1.1，3345 |
   | 24.34.112.235，5002 | 192.168.1.1，3346 |
   | 24.34.112.235，5003 | 192.168.1.2，3345 |
   | 24.34.112.235，5004 | 192.168.1.2，3346 |
   | 24.34.112.235，5005 | 192.168.1.3，3345 |
   | 24.34.112.235，5006 | 192.168.1.3，3346 |

   

6. 

   ==答：==

   根据题意，可以指定**s2**的流表项如下：

   | MATCH                                                        | ACTION     |
   | ------------------------------------------------------------ | ---------- |
   | **## 期望1 ##**                                              |            |
   | IP src = 10.3.\*.\*<br />ingress port = 1<br />IP dst = 10.1.\*.\* | forward(2) |
   | **## 期望2 ##**                                              |            |
   | IP src = 10.1.\*.\*<br />ingress port = 2<br />IP dst = 10.3.\*.\* | forward(1) |
   | **## 期望3 ##**                                              |            |
   | ingress port = 1<br />IP dst = 10.2.0.4                      | forward(4) |
   | ingress port = 2<br />IP dst = 10.2.0.4                      | forward(4) |
   | ingress port = 1<br />IP dst = 10.2.0.3                      | forward(3) |
   | ingress port = 2<br />IP dst = 10.2.0.3                      | forward(3) |
   | **## 期望4 ##**                                              |            |
   | ingress port = 3<br />IP dst = 10.2.0.4                      | forward(4) |
   | ingress port = 4<br />IP dst = 10.2.0.3                      | forward(3) |

   